# AI 실내 공간 전후 변화 분석 시스템 - Frontend

전/후 이미지를 AI로 분석하여 변화를 감지하고 리포트를 생성하는 서비스의 프론트엔드 애플리케이션입니다.

## README 유지 규칙 (AI/사람 공통)

> [DO NOT REMOVE] 아래 9개 섹션 제목은 뼈대로 유지하되 4, 5, 6번은 파트에 맞게 적용됨:
> `기술스택`, `프로젝트 구조`, `설치 및 실행`, `주요 페이지 및 라우팅`, `상태 관리 및 API 연동`, `컴포넌트 구조 및 스타일링`, `개발 가이드`, `테스트`, `라이센스`
>
> [DO NOT REMOVE] 각 섹션의 `포함해야 함` / `포함하지 말 것` 블록은 삭제 금지.
>
> [DO NOT REMOVE] README에는 "현재 동작하는 사실"만 기록. 기획/논의/회의록/로드맵 상세는 `docs/` 또는 별도 문서로 분리.

---

## 1) 기술스택

```text
[포함해야 함]
- 실제 코드에서 사용하는 프레임워크/상태관리/스타일링 도구
- 버전 고정이 있는 핵심 모듈 및 패키지 매니저

[포함하지 말 것]
- 기술 선택 배경의 장문 설명
- 미확정 기술/검토 중 기술

[업데이트 트리거]
- `package.json`, `pnpm-lock.yaml` 변경 시
- 핵심 UI 프레임워크나 상태 관리 라이브러리 교체 시
```

### 현재 사용
- Node.js 24
- Next.js (App Router)
- React & TypeScript
- 패키지 매니저: `pnpm`
- 스타일링: TailwindCSS / Vanilla CSS
- 포매터 및 린터: ESLint, Prettier

---

## 2) 프로젝트 구조

```text
[포함해야 함]
- 디렉토리 단위의 역할
- 신규 기여자가 진입할 때 반드시 알아야 할 핵심 파일 및 구조

[포함하지 말 것]
- 파일 전체 나열
- 개별 컴포넌트 단위 설명

[업데이트 트리거]
- `app/`, `components/`, `public/` 등 최상위 구조가 바뀔 때
- 전역 레이아웃 및 환경 설정 파일이 크게 변경될 때
```

```text
frontend/
├── app/               # Next.js App Router (페이지 및 레이아웃)
│   ├── globals.css    # 전역 스타일
│   ├── layout.tsx     # 최상위 레이아웃
│   └── page.tsx       # 메인 진입점
├── components/        # 재사용 가능한 UI 컴포넌트 (존재할 경우)
├── public/            # 정적 에셋 (이미지, 아이콘 등)
├── .env.local         # 로컬 환경 변수
├── next.config.ts     # Next.js 설정
├── package.json       # 의존성 기준 파일
├── pnpm-lock.yaml     # 잠금 파일
└── README.md
```

---

## 3) 설치 및 실행

```text
[포함해야 함]
- 신규 개발자가 로컬 실행 가능한 최소 절차
- 필수 환경변수 이름
- 실제 문서 URL/실행 명령

[포함하지 말 것]
- 대안 워크플로우의 장문 비교
- 운영 배포 전략 상세(별도 배포 문서로 이동)

[업데이트 트리거]
- `.env.example`, `next.config.ts` 변경 시
- 실행 명령(`pnpm dev` 등) 변경 시
```

### 1. 의존성 설치

`frontend/` 디렉토리에서 실행:

```bash
pnpm install
```

### 2. 환경 변수 설정

```bash
cp .env.example .env.local
```

`.env.local` 예시:

```env
NEXT_PUBLIC_API_URL=http://localhost:8000/api/v1
```

### 3. 클라이언트 실행

```bash
pnpm dev
```

- 로컬 접속: `http://localhost:3000`

---

## 4) 주요 페이지 및 라우팅

```text
[포함해야 함]
- 현재 구현된 주요 페이지 경로(Route)와 화면의 역할
- 동적 라우팅 경로 (예: `[id]`) 구조

[포함하지 말 것]
- 구현되지 않은 페이지의 확정 스펙처럼 보이는 예시
- 개별 페이지 내의 모든 버튼/링크 설명

[업데이트 트리거]
- `app/` 하위에 새로운 페이지(page.tsx)가 추가/삭제될 때
- 기존 페이지의 접근 권한(로그인 필요 여부)이 변경될 때
```

| 경로 | 역할 | 인증 필요 |
|---|---|---|
| `/` | 메인 페이지 / 랜딩 | No |
| `/login` | 로그인 페이지 | No |
| `/projects` | 프로젝트 목록 (스켈레톤) | Yes |
| `/projects/[id]` | 프로젝트 상세 및 이미지 분석 (스켈레톤) | Yes |
| `/analysis/[id]` | 리포트 결과 확인 (스켈레톤) | Yes |

---

## 5) 상태 관리 및 API 연동

```text
[포함해야 함]
- 전역 상태 관리 도구 및 기준
- 백엔드 API와의 통신 방식 (Fetch, Axios 등)
- 인증 토큰 처리 방식 (저장 위치, 헤더 주입 등)

[포함하지 말 것]
- API 요청/응답의 개별 JSON 상세 페이로드
- 전역 상태의 모든 변수 나열

[업데이트 트리거]
- API 클라이언트 래퍼(인터셉터 등) 구조 변경 시
- 상태 관리 라이브러리(Zustand, Context API 등) 추가/교체 시
- 인증 토큰 저장 방식(Cookie -> LocalStorage 등) 변경 시
```

- **API 클라이언트**: `fetch` API 기반 (또는 프로젝트 구성에 따라 추가)
- **인증 방식**: JWT Bearer
- **토큰 처리**: 로컬 스토리지 또는 쿠키에 저장 후 API 요청 시 `Authorization: Bearer {token}` 헤더 주입
- **전역 상태**: 필요 시 React Context API 사용 (또는 향후 상태관리 도구 도입 시 업데이트)

---

## 6) 컴포넌트 구조 및 스타일링

```text
[포함해야 함]
- 공통 컴포넌트 디렉토리 및 분리 기준
- 프로젝트 공통으로 적용되는 스타일링 방식

[포함하지 말 것]
- 개별 컴포넌트의 모든 Props 나열
- 특정 페이지에만 쓰이는 1회성 CSS 클래스 상세

[업데이트 트리거]
- UI 라이브러리(Radix UI, Shadcn 등) 신규 도입 시
- `tailwind.config.ts` 및 글로벌 스타일 구조 변경 시
```

### 컴포넌트 설계
- **Atomic 수준**: 작은 단위의 UI 컴포넌트 (버튼, 인풋 등) 분리 지향
- **Pages / Layouts**: `app/` 디렉토리 내에서 처리

### 스타일링 가이드
- 전역 설정: `globals.css`
- 프레임워크: TailwindCSS 기반 유틸리티 클래스 활용
- 규칙: 인라인 스타일 지양, 반응형 디자인(Mobile-first) 고려

---

## 7) 개발 가이드

```text
[포함해야 함]
- 이 레포의 코드 변경 표준 절차
- 최소한의 일관성 규칙(컴포넌트 네이밍, 폴더 구조 컨벤션)

[포함하지 말 것]
- 개인 선호 코딩 스타일
- 회의/의사결정 히스토리

[업데이트 트리거]
- 컴포넌트/페이지 생성 규칙 변경 시
- Lint, Prettier 규칙이 크게 변경될 때
```

### 프론트엔드 작업 순서

1. `components/` 하위에 공통 UI 작성 (필요시)
2. `app/` 라우트에 맞게 폴더 생성 후 `page.tsx` 작성
3. 백엔드 연동이 필요한 경우 API 함수 모듈화 후 연결

### 린트 및 포매팅

```bash
pnpm lint
```

---

## 8) 테스트

```text
[포함해야 함]
- 프론트엔드 실행 전제조건
- 테스트 명령 및 툴셋
- 현재 커버 범위

[포함하지 말 것]
- 테스트 계획서 수준의 장문
- 실제로 없는 테스트 프레임워크 사용법

[업데이트 트리거]
- Jest, Cypress, Playwright 등 신규 도구 도입 시
- 테스트 실행 명령어 변경 시
```

### 현재 제공 테스트

- 현재 구축된 자동화 테스트 스위트는 없음. (개발 필요)
- 브라우저를 통한 수동 UI 및 API 연동 테스트 권장

---

## 9) 라이센스

```text
[포함해야 함]
- 라이센스 종류
- 라이센스 파일 위치(있을 경우)

[포함하지 말 것]
- 법률 해석
- 내부 정책 문구

[업데이트 트리거]
- LICENSE 파일 생성/변경 시
- 라이선스 정책 변경 시
```

MIT License
